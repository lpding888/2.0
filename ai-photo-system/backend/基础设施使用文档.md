# åŸºç¡€è®¾æ–½ä½¿ç”¨æ–‡æ¡£

## ğŸ“‹ ç›®å½•
- [æ—¥å¿—ç³»ç»Ÿ](#æ—¥å¿—ç³»ç»Ÿ)
- [æ€§èƒ½ç›‘æ§](#æ€§èƒ½ç›‘æ§)
- [é”™è¯¯è¿½è¸ª (Sentry)](#é”™è¯¯è¿½è¸ª-sentry)
- [æ•°æ®åº“å¤‡ä»½](#æ•°æ®åº“å¤‡ä»½)
- [æ–‡ä»¶å¤‡ä»½](#æ–‡ä»¶å¤‡ä»½)

---

## ğŸ”§ å®‰è£…ä¾èµ–

é¦–å…ˆå®‰è£…æ–°æ·»åŠ çš„ä¾èµ–åŒ…ï¼š

```bash
cd backend
npm install
```

æ–°å¢çš„ä¾èµ–åŒ…ï¼š
- `winston` - æ—¥å¿—ç³»ç»Ÿ
- `winston-daily-rotate-file` - æ—¥å¿—æ–‡ä»¶æŒ‰æ—¥æœŸåˆ†å‰²
- `@sentry/node` - Sentryé”™è¯¯è¿½è¸ª
- `@sentry/profiling-node` - Sentryæ€§èƒ½åˆ†æ

---

## ğŸ“ æ—¥å¿—ç³»ç»Ÿ

### åŠŸèƒ½ç‰¹æ€§

- âœ… æŒ‰æ—¥æœŸè‡ªåŠ¨åˆ†å‰²æ—¥å¿—æ–‡ä»¶
- âœ… åˆ†çº§æ—¥å¿—ï¼ˆinfo, warn, error, debugï¼‰
- âœ… å½©è‰²æ§åˆ¶å°è¾“å‡ºï¼ˆå¼€å‘ç¯å¢ƒï¼‰
- âœ… è‡ªåŠ¨åˆ é™¤è¿‡æœŸæ—¥å¿—ï¼ˆ30å¤©ï¼‰
- âœ… ç»“æ„åŒ–JSONæ—¥å¿—
- âœ… æ•è·æœªå¤„ç†çš„å¼‚å¸¸å’ŒPromiseæ‹’ç»

### æ—¥å¿—æ–‡ä»¶ä½ç½®

```
backend/logs/
â”œâ”€â”€ combined-2025-01-12.log      # å®Œæ•´æ—¥å¿—
â”œâ”€â”€ error-2025-01-12.log         # é”™è¯¯æ—¥å¿—
â”œâ”€â”€ access-2025-01-12.log        # HTTPè®¿é—®æ—¥å¿—
â”œâ”€â”€ exceptions-2025-01-12.log    # æœªæ•è·çš„å¼‚å¸¸
â””â”€â”€ rejections-2025-01-12.log    # æœªå¤„ç†çš„Promiseæ‹’ç»
```

### ä½¿ç”¨æ–¹æ³•

```javascript
const logger = require('./utils/logger');

// åŸºç¡€æ—¥å¿—
logger.info('ç”¨æˆ·ç™»å½•æˆåŠŸ', { userId: 123, ip: '192.168.1.1' });
logger.warn('å†…å­˜ä½¿ç”¨ç‡è¾ƒé«˜', { usage: '85%' });
logger.error('æ•°æ®åº“æŸ¥è¯¢å¤±è´¥', error, { query: 'SELECT * FROM users' });
logger.debug('è°ƒè¯•ä¿¡æ¯', { data: someData });

// ä¸“ç”¨æ—¥å¿—æ–¹æ³•
logger.access(req, res, responseTime); // HTTPè®¿é—®æ—¥å¿—
logger.db('SELECT', 'users', { userId: 123 }); // æ•°æ®åº“æ“ä½œ
logger.api('OpenAI', 'chat', { model: 'gpt-4', tokens: 500 }); // APIè°ƒç”¨
logger.task(taskId, 'completed', { duration: 5000 }); // ä»»åŠ¡çŠ¶æ€
logger.payment(orderId, 'success', { amount: 99.00 }); // æ”¯ä»˜è®°å½•
logger.performance('processImage', 2500, { size: '5MB' }); // æ€§èƒ½æ—¥å¿—
```

### é…ç½®æ—¥å¿—çº§åˆ«

åœ¨ `.env` æ–‡ä»¶ä¸­è®¾ç½®ï¼š

```env
# å¯é€‰å€¼: error, warn, info, debug
LOG_LEVEL=info
```

- **production**: ä½¿ç”¨ `info` æˆ– `warn`
- **development**: ä½¿ç”¨ `debug`

### æŸ¥çœ‹æ—¥å¿—

```bash
# æŸ¥çœ‹å®Œæ•´æ—¥å¿—
tail -f logs/combined-2025-01-12.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
tail -f logs/error-2025-01-12.log

# æŸ¥çœ‹è®¿é—®æ—¥å¿—
tail -f logs/access-2025-01-12.log

# Windows PowerShell
Get-Content logs\combined-2025-01-12.log -Tail 50 -Wait
```

---

## ğŸ“Š æ€§èƒ½ç›‘æ§

### åŠŸèƒ½ç‰¹æ€§

- âœ… å®æ—¶ç›‘æ§CPUå’Œå†…å­˜ä½¿ç”¨ç‡
- âœ… HTTPè¯·æ±‚æ€§èƒ½è¿½è¸ª
- âœ… æ…¢è¯·æ±‚è­¦å‘Šï¼ˆ>3ç§’ï¼‰
- âœ… è¯·æ±‚æˆåŠŸç‡ç»Ÿè®¡
- âœ… ç³»ç»Ÿèµ„æºç›‘æ§ï¼ˆæ¯åˆ†é’Ÿï¼‰

### å¥åº·æ£€æŸ¥æ¥å£

è®¿é—® `http://localhost:3000/health` è·å–è¯¦ç»†çš„å¥åº·æŒ‡æ ‡ï¼š

```json
{
  "status": "healthy",
  "timestamp": "2025-01-12T10:30:00.000Z",
  "uptime": 3600,
  "system": {
    "platform": "win32",
    "arch": "x64",
    "nodeVersion": "v18.16.0",
    "cpus": 8,
    "loadAverage": [1.5, 1.3, 1.2]
  },
  "performance": {
    "cpu": {
      "current": "45.23%",
      "average": "42.15%",
      "max": "78.50%"
    },
    "memory": {
      "current": "62.30%",
      "average": "58.45%",
      "max": "75.20%",
      "process": {
        "heapUsed": "120.50MB",
        "heapTotal": "180.25MB",
        "rss": "250.75MB"
      }
    },
    "requests": {
      "total": 1523,
      "success": 1498,
      "errors": 25,
      "slow": 12,
      "successRate": "98.36%"
    }
  }
}
```

### æ€§èƒ½è­¦å‘Š

ç³»ç»Ÿä¼šè‡ªåŠ¨è®°å½•ä»¥ä¸‹è­¦å‘Šï¼š

- **æ…¢è¯·æ±‚**: å“åº”æ—¶é—´è¶…è¿‡3ç§’
- **é«˜CPUä½¿ç”¨**: è¶…è¿‡80%
- **é«˜å†…å­˜ä½¿ç”¨**: è¶…è¿‡85%
- **æ½œåœ¨å†…å­˜æ³„æ¼**: å †å†…å­˜è¶…è¿‡500MB

æŸ¥çœ‹è­¦å‘Šæ—¥å¿—ï¼š

```bash
grep "warn" logs/combined-2025-01-12.log
```

---

## ğŸ› é”™è¯¯è¿½è¸ª (Sentry)

### é…ç½®Sentry

1. **æ³¨å†ŒSentryè´¦å·**: https://sentry.io

2. **åˆ›å»ºæ–°é¡¹ç›®**:
   - é€‰æ‹© Node.js
   - å¤åˆ¶ DSN

3. **é…ç½®ç¯å¢ƒå˜é‡**:

```env
SENTRY_DSN=https://your-dsn@sentry.io/your-project-id
SENTRY_TRACES_SAMPLE_RATE=0.1  # æ€§èƒ½ç›‘æ§é‡‡æ ·ç‡ï¼ˆ10%ï¼‰
SENTRY_PROFILES_SAMPLE_RATE=0.1  # æ€§èƒ½åˆ†æé‡‡æ ·ç‡ï¼ˆ10%ï¼‰
```

### åŠŸèƒ½ç‰¹æ€§

- âœ… è‡ªåŠ¨æ•è·æœªå¤„ç†çš„å¼‚å¸¸
- âœ… HTTPè¯·æ±‚è¿½è¸ª
- âœ… æ€§èƒ½ç›‘æ§
- âœ… è¿‡æ»¤æ•æ„Ÿä¿¡æ¯ï¼ˆpassword, token, secretï¼‰
- âœ… é”™è¯¯åˆ†ç»„å’Œèšåˆ
- âœ… ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼ˆç”¨æˆ·ã€ç¯å¢ƒã€é¢åŒ…å±‘ï¼‰

### æ‰‹åŠ¨æ•è·é”™è¯¯

```javascript
const sentry = require('./utils/sentry');

try {
  // ä¸šåŠ¡ä»£ç 
  throw new Error('Something went wrong');
} catch (error) {
  // æ•è·å¼‚å¸¸å¹¶å‘é€åˆ°Sentry
  sentry.captureException(error, {
    tags: {
      module: 'payment',
      severity: 'high'
    },
    extra: {
      orderId: '12345',
      amount: 99.00
    },
    user: {
      id: user.user_id,
      username: user.nickname
    }
  });
}

// æ•è·æ¶ˆæ¯
sentry.captureMessage('Payment processing started', 'info', {
  tags: { module: 'payment' },
  extra: { orderId: '12345' }
});
```

### æ€§èƒ½è¿½è¸ª

```javascript
const sentry = require('./utils/sentry');

// è¿½è¸ªæ•°æ®åº“æŸ¥è¯¢
const users = await sentry.traceQuery('SELECT users', async () => {
  return await query('SELECT * FROM users WHERE id = ?', [userId]);
});

// è¿½è¸ªHTTPè¯·æ±‚
const response = await sentry.traceHttpRequest('POST /ai/generate', async () => {
  return await axios.post('https://api.openai.com/...', data);
});
```

### æŸ¥çœ‹é”™è¯¯æŠ¥å‘Š

ç™»å½• https://sentry.io æŸ¥çœ‹ï¼š
- é”™è¯¯å‘ç”Ÿé¢‘ç‡
- é”™è¯¯å †æ ˆè¿½è¸ª
- å—å½±å“çš„ç”¨æˆ·
- æ€§èƒ½ç“¶é¢ˆ

---

## ğŸ’¾ æ•°æ®åº“å¤‡ä»½

### åŠŸèƒ½ç‰¹æ€§

- âœ… è‡ªåŠ¨mysqldumpå¤‡ä»½
- âœ… è‡ªåŠ¨å‹ç¼©ï¼ˆgzip/zipï¼‰
- âœ… ä¿ç•™æœ€è¿‘30å¤©å¤‡ä»½
- âœ… æ”¯æŒWindowså’ŒLinux
- âœ… å¤‡ä»½éªŒè¯

### æ‰‹åŠ¨å¤‡ä»½

```bash
# æ–¹å¼1: npmè„šæœ¬
npm run backup:db

# æ–¹å¼2: ç›´æ¥è¿è¡Œ
node scripts/backup-database.js
```

### è¾“å‡ºç¤ºä¾‹

```
============================================================
ğŸš€ å¼€å§‹æ•°æ®åº“å¤‡ä»½
============================================================
ğŸ“… æ—¶é—´: 2025-01-12 10:30:00
ğŸ’¾ æ•°æ®åº“: ai_photo
ğŸ“ å¤‡ä»½ç›®å½•: C:\...\backups\database
ğŸ–¥ï¸  å¹³å°: Windows

ğŸ“ æ‰§è¡Œå‘½ä»¤: mysqldump -h localhost -u ai_photo -p*** --single-transaction ...

âœ… å¤‡ä»½æˆåŠŸ: C:\...\backups\database\backup_2025-01-12_10-30-00.sql
ğŸ“Š æ–‡ä»¶å¤§å°: 15.32MB
ğŸ“¦ æ­£åœ¨å‹ç¼©å¤‡ä»½æ–‡ä»¶...
âœ… å‹ç¼©å®Œæˆ: backup_2025-01-12_10-30-00.sql.zip
ğŸ“Š å‹ç¼©åå¤§å°: 3.45MB
ğŸ—‘ï¸  åˆ é™¤æ—§å¤‡ä»½: backup_2024-12-10_10-30-00.sql.zip
âœ… æ¸…ç†å®Œæˆï¼Œä¿ç•™æœ€è¿‘ 30 ä¸ªå¤‡ä»½

============================================================
âœ… å¤‡ä»½å®Œæˆï¼
============================================================
```

### æ¢å¤æ•°æ®åº“

```bash
# åˆ—å‡ºå¯ç”¨å¤‡ä»½
node scripts/restore-database.js

# æ¢å¤æŒ‡å®šå¤‡ä»½
node scripts/restore-database.js backup_2025-01-12_10-30-00.sql.zip

# æˆ–ä½¿ç”¨å®Œæ•´è·¯å¾„
node scripts/restore-database.js C:\backups\database\backup_2025-01-12_10-30-00.sql.zip
```

### å®šæ—¶å¤‡ä»½

#### Linux (crontab)

```bash
# ç¼–è¾‘crontab
crontab -e

# æ¯å¤©å‡Œæ™¨2ç‚¹å¤‡ä»½
0 2 * * * cd /path/to/backend && npm run backup:db
```

#### Windows (ä»»åŠ¡è®¡åˆ’ç¨‹åº)

1. æ‰“å¼€"ä»»åŠ¡è®¡åˆ’ç¨‹åº"
2. åˆ›å»ºåŸºæœ¬ä»»åŠ¡
3. è§¦å‘å™¨ï¼šæ¯å¤©å‡Œæ™¨2ç‚¹
4. æ“ä½œï¼šå¯åŠ¨ç¨‹åº
   - ç¨‹åºï¼š`npm`
   - å‚æ•°ï¼š`run backup:db`
   - èµ·å§‹äºï¼š`C:\path\to\backend`

---

## ğŸ“¦ æ–‡ä»¶å¤‡ä»½

### åŠŸèƒ½ç‰¹æ€§

- âœ… å¢é‡å¤‡ä»½ï¼ˆä»…å¤åˆ¶æ–°å¢æˆ–ä¿®æ”¹çš„æ–‡ä»¶ï¼‰
- âœ… è‡ªåŠ¨å‹ç¼©ï¼ˆzip/tar.gzï¼‰
- âœ… ä¿ç•™æœ€è¿‘7å¤©å¤‡ä»½
- âœ… æ”¯æŒWindowså’ŒLinux

### æ‰‹åŠ¨å¤‡ä»½

```bash
# æ–¹å¼1: npmè„šæœ¬
npm run backup:files

# æ–¹å¼2: ç›´æ¥è¿è¡Œ
node scripts/backup-files.js

# å®Œæ•´å¤‡ä»½ï¼ˆæ•°æ®åº“+æ–‡ä»¶ï¼‰
npm run backup:all
```

### è¾“å‡ºç¤ºä¾‹

```
============================================================
ğŸš€ å¼€å§‹æ–‡ä»¶å¤‡ä»½
============================================================
ğŸ“… æ—¶é—´: 2025-01-12 10:35:00
ğŸ“ æºç›®å½•: C:\...\uploads
ğŸ“ å¤‡ä»½ç›®å½•: C:\...\backups\files
ğŸ–¥ï¸  å¹³å°: Windows

ğŸ“Š æºæ–‡ä»¶ç»Ÿè®¡:
   æ–‡ä»¶æ•°é‡: 1523
   æ€»å¤§å°: 5.32GB

ğŸ”„ æ£€æŸ¥å¢é‡æ–‡ä»¶...
âœ… å¢é‡å¤‡ä»½å®Œæˆ: 245 ä¸ªæ–‡ä»¶, 850.25MB
ğŸ“¦ æ­£åœ¨åˆ›å»ºå‹ç¼©åŒ…...
âœ… å‹ç¼©å®Œæˆ: files_backup_2025-01-12_10-35-00.zip
ğŸ“Š å‹ç¼©åŒ…å¤§å°: 680.15MB
ğŸ—‘ï¸  æ¸…ç†ä¸´æ—¶æ–‡ä»¶
ğŸ—‘ï¸  åˆ é™¤æ—§å¤‡ä»½: files_backup_2025-01-05_10-35-00.zip
âœ… æ¸…ç†å®Œæˆï¼Œä¿ç•™æœ€è¿‘ 7 ä¸ªå¤‡ä»½

============================================================
âœ… æ–‡ä»¶å¤‡ä»½å®Œæˆï¼
============================================================
```

### å¤‡ä»½ç›®å½•ç»“æ„

```
backend/backups/
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ backup_2025-01-12_10-30-00.sql.zip
â”‚   â”œâ”€â”€ backup_2025-01-11_10-30-00.sql.zip
â”‚   â””â”€â”€ ... (ä¿ç•™30å¤©)
â””â”€â”€ files/
    â”œâ”€â”€ files_backup_2025-01-12_10-35-00.zip
    â”œâ”€â”€ files_backup_2025-01-11_10-35-00.zip
    â””â”€â”€ ... (ä¿ç•™7å¤©)
```

---

## ğŸ”„ å®šæ—¶ä»»åŠ¡é…ç½®

### æ¨èå¤‡ä»½ç­–ç•¥

| ä»»åŠ¡ | é¢‘ç‡ | æ—¶é—´ | å‘½ä»¤ |
|------|------|------|------|
| æ•°æ®åº“å¤‡ä»½ | æ¯å¤© | å‡Œæ™¨2ç‚¹ | `npm run backup:db` |
| æ–‡ä»¶å¤‡ä»½ | æ¯å¤© | å‡Œæ™¨3ç‚¹ | `npm run backup:files` |
| æ—¥å¿—æ¸…ç† | æ¯å‘¨ | å‘¨æ—¥å‡Œæ™¨4ç‚¹ | è‡ªåŠ¨æ‰§è¡Œ |

### Linuxå®šæ—¶ä»»åŠ¡

```bash
crontab -e

# æ•°æ®åº“å¤‡ä»½ï¼ˆæ¯å¤©å‡Œæ™¨2ç‚¹ï¼‰
0 2 * * * cd /var/www/ai-photo-system/backend && npm run backup:db >> /var/log/backup-db.log 2>&1

# æ–‡ä»¶å¤‡ä»½ï¼ˆæ¯å¤©å‡Œæ™¨3ç‚¹ï¼‰
0 3 * * * cd /var/www/ai-photo-system/backend && npm run backup:files >> /var/log/backup-files.log 2>&1
```

### Windowså®šæ—¶ä»»åŠ¡ï¼ˆPowerShellè„šæœ¬ï¼‰

åˆ›å»º `backup-scheduled.ps1`:

```powershell
# è¿›å…¥é¡¹ç›®ç›®å½•
Set-Location "C:\path\to\backend"

# è®°å½•å¼€å§‹æ—¶é—´
$startTime = Get-Date
Write-Output "å¼€å§‹å¤‡ä»½: $startTime"

# æ•°æ®åº“å¤‡ä»½
Write-Output "å¼€å§‹æ•°æ®åº“å¤‡ä»½..."
npm run backup:db
Write-Output "æ•°æ®åº“å¤‡ä»½å®Œæˆ"

# ç­‰å¾…1åˆ†é’Ÿ
Start-Sleep -Seconds 60

# æ–‡ä»¶å¤‡ä»½
Write-Output "å¼€å§‹æ–‡ä»¶å¤‡ä»½..."
npm run backup:files
Write-Output "æ–‡ä»¶å¤‡ä»½å®Œæˆ"

# è®°å½•ç»“æŸæ—¶é—´
$endTime = Get-Date
$duration = $endTime - $startTime
Write-Output "å¤‡ä»½å®Œæˆ: $endTime"
Write-Output "æ€»è€—æ—¶: $($duration.TotalMinutes) åˆ†é’Ÿ"
```

ç„¶ååœ¨ä»»åŠ¡è®¡åˆ’ç¨‹åºä¸­é…ç½®ï¼š
- è§¦å‘å™¨ï¼šæ¯å¤©å‡Œæ™¨2ç‚¹
- æ“ä½œï¼š`powershell.exe -File "C:\path\to\backup-scheduled.ps1"`
- å°†è¾“å‡ºé‡å®šå‘åˆ°æ—¥å¿—æ–‡ä»¶

---

## ğŸš€ ç”Ÿäº§ç¯å¢ƒé…ç½®

### 1. ç¯å¢ƒå˜é‡é…ç½®

å¤åˆ¶ç¯å¢ƒå˜é‡ç¤ºä¾‹ï¼š

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```env
# ç”Ÿäº§ç¯å¢ƒ
NODE_ENV=production

# æ—¥å¿—çº§åˆ«
LOG_LEVEL=warn

# Sentryï¼ˆå¿…é¡»é…ç½®ï¼‰
SENTRY_DSN=https://your-dsn@sentry.io/your-project-id
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1

# å¤‡ä»½è·¯å¾„
BACKUP_DIR=/var/backups/ai-photo-system
MAX_BACKUPS=30
MAX_FILE_BACKUPS=7
```

### 2. åˆ›å»ºå¤‡ä»½ç›®å½•

```bash
# Linux
sudo mkdir -p /var/backups/ai-photo-system/database
sudo mkdir -p /var/backups/ai-photo-system/files
sudo chown -R $USER:$USER /var/backups/ai-photo-system

# Windows
mkdir C:\backups\ai-photo-system\database
mkdir C:\backups\ai-photo-system\files
```

### 3. æµ‹è¯•æ‰€æœ‰åŠŸèƒ½

```bash
# 1. å¯åŠ¨æœåŠ¡
npm start

# 2. æ£€æŸ¥æ—¥å¿—
ls -lh logs/

# 3. è®¿é—®å¥åº·æ£€æŸ¥
curl http://localhost:3000/health

# 4. æµ‹è¯•æ•°æ®åº“å¤‡ä»½
npm run backup:db

# 5. æµ‹è¯•æ–‡ä»¶å¤‡ä»½
npm run backup:files

# 6. æŸ¥çœ‹å¤‡ä»½æ–‡ä»¶
ls -lh backups/database/
ls -lh backups/files/
```

### 4. PM2è¿›ç¨‹ç®¡ç†

```bash
# å®‰è£…PM2
npm install -g pm2

# å¯åŠ¨æœåŠ¡
pm2 start src/app.js --name ai-photo-backend

# æŸ¥çœ‹æ—¥å¿—
pm2 logs ai-photo-backend

# æŸ¥çœ‹ç›‘æ§
pm2 monit
```

---

## ğŸ“ˆ ç›‘æ§å’Œå‘Šè­¦

### æ—¥å¿—ç›‘æ§

ä½¿ç”¨ `tail` æˆ–æ—¥å¿—åˆ†æå·¥å…·å®æ—¶ç›‘æ§ï¼š

```bash
# å®æ—¶æŸ¥çœ‹é”™è¯¯æ—¥å¿—
tail -f logs/error-$(date +%Y-%m-%d).log

# ç»Ÿè®¡é”™è¯¯æ•°é‡
grep "error" logs/combined-$(date +%Y-%m-%d).log | wc -l

# æŸ¥æ‰¾æ…¢è¯·æ±‚
grep "Slow Request" logs/combined-$(date +%Y-%m-%d).log
```

### Sentryå‘Šè­¦

åœ¨Sentryæ§åˆ¶å°é…ç½®å‘Šè­¦è§„åˆ™ï¼š
- é”™è¯¯å‘ç”Ÿé¢‘ç‡è¶…è¿‡é˜ˆå€¼
- æ–°ç±»å‹é”™è¯¯å‡ºç°
- æ€§èƒ½ä¸‹é™

### å¥åº·æ£€æŸ¥

ä½¿ç”¨ç›‘æ§å·¥å…·å®šæœŸæ£€æŸ¥ `/health` ç«¯ç‚¹ï¼š
- Uptime Robot
- Pingdom
- è‡ªå®šä¹‰è„šæœ¬

---

## ğŸ” æ•…éšœæ’æŸ¥

### æ—¥å¿—ç³»ç»Ÿé—®é¢˜

**æ—¥å¿—æ–‡ä»¶æœªåˆ›å»º**:
```bash
# æ£€æŸ¥logsç›®å½•æƒé™
ls -la logs/

# æ‰‹åŠ¨åˆ›å»ºç›®å½•
mkdir -p logs
chmod 755 logs
```

**æ—¥å¿—çº§åˆ«ä¸æ­£ç¡®**:
```bash
# æ£€æŸ¥ç¯å¢ƒå˜é‡
echo $LOG_LEVEL

# æˆ–æ£€æŸ¥.envæ–‡ä»¶
cat .env | grep LOG_LEVEL
```

### å¤‡ä»½å¤±è´¥

**mysqldumpå‘½ä»¤ä¸å­˜åœ¨**:
```bash
# Linux
sudo apt-get install mysql-client

# Windows
# æ·»åŠ MySQL binç›®å½•åˆ°PATHç¯å¢ƒå˜é‡
```

**æƒé™ä¸è¶³**:
```bash
# æ£€æŸ¥å¤‡ä»½ç›®å½•æƒé™
ls -la backups/

# ä¿®æ”¹æƒé™
chmod 755 backups
```

### Sentryé—®é¢˜

**é”™è¯¯æœªä¸ŠæŠ¥**:
- æ£€æŸ¥ `SENTRY_DSN` æ˜¯å¦é…ç½®
- æ£€æŸ¥ç½‘ç»œæ˜¯å¦å¯è®¿é—® sentry.io
- æŸ¥çœ‹æ—¥å¿—ä¸­çš„Sentryç›¸å…³é”™è¯¯

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
- æ—¥å¿—æ–‡ä»¶: `backend/logs/`
- Sentryæ§åˆ¶å°: https://sentry.io
- å¥åº·æ£€æŸ¥: http://localhost:3000/health

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0.0
**æœ€åæ›´æ–°**: 2025-01-12
**ç»´æŠ¤äººå‘˜**: AI Photo System Team

# 衣柜系统测试指南

## 测试概述

本文档提供完整的功能测试清单，确保衣柜系统、造型规划器、造型回忆和AI造型师功能正常运行。

## Phase 1: 我的衣柜测试

### 1.1 添加衣物功能
- [ ] 点击"+"按钮打开添加弹窗
- [ ] 拍照上传衣物图片
- [ ] 从相册选择衣物图片
- [ ] 输入衣物名称
- [ ] 选择衣物分类（上装/下装/连衣裙/鞋子/配饰）
- [ ] 添加标签（颜色、风格、场合）
- [ ] 保存衣物，检查是否显示在列表中

### 1.2 编辑衣物功能
- [ ] 长按衣物卡片打开操作菜单
- [ ] 选择"编辑"选项
- [ ] 修改衣物名称
- [ ] 修改分类
- [ ] 修改标签
- [ ] 保存修改，检查更新是否生效

### 1.3 删除衣物功能
- [ ] 长按衣物卡片
- [ ] 选择"删除"选项
- [ ] 确认删除提示
- [ ] 检查衣物是否从列表移除

### 1.4 搜索功能
- [ ] 在搜索框输入衣物名称
- [ ] 检查实时搜索结果
- [ ] 输入标签关键词
- [ ] 检查搜索历史记录
- [ ] 点击历史记录快速搜索

### 1.5 分类筛选
- [ ] 点击"全部"分类，显示所有衣物
- [ ] 切换到"上装"，只显示上装
- [ ] 切换到"下装"，只显示下装
- [ ] 切换其他分类，验证筛选正确

### 1.6 喜爱标记
- [ ] 点击衣物卡片的❤️图标
- [ ] 检查标记为喜爱状态
- [ ] 再次点击取消喜爱
- [ ] 检查状态切换正常

## Phase 2: 造型规划器测试

### 2.1 日历显示
- [ ] 检查当月日历正确显示
- [ ] 验证今日日期高亮
- [ ] 检查上月/下月日期灰显
- [ ] 点击上月/下月按钮切换

### 2.2 创建事件
- [ ] 点击"+"按钮打开创建弹窗
- [ ] 选择日期
- [ ] 选择时间
- [ ] 输入事件标题
- [ ] 选择事件类型（工作/约会/聚会等）
- [ ] 选择天气
- [ ] 选择造型衣物（从衣柜）
- [ ] 添加备注
- [ ] 保存事件

### 2.3 AI造型师建议
- [ ] 创建事件时点击"AI建议"按钮
- [ ] 检查加载动画显示
- [ ] 查看AI推荐的风格建议
- [ ] 查看推荐的衣物搭配
- [ ] 查看推荐理由
- [ ] 点击"采纳建议"
- [ ] 验证推荐衣物已添加到事件

### 2.4 编辑事件
- [ ] 点击今日事件列表中的事件
- [ ] 选择"编辑"
- [ ] 修改事件信息
- [ ] 保存修改
- [ ] 验证更新生效

### 2.5 删除事件
- [ ] 点击事件打开菜单
- [ ] 选择"删除"
- [ ] 确认删除
- [ ] 验证事件从日历和列表移除

### 2.6 查看详情
- [ ] 点击事件选择"查看详情"
- [ ] 检查显示完整事件信息
- [ ] 检查天气图标
- [ ] 检查造型衣物列表

## Phase 3: 造型回忆测试

### 3.1 创建回忆
- [ ] 点击"+"按钮
- [ ] 选择日期和时间
- [ ] 输入回忆标题
- [ ] 上传1-9张照片
- [ ] 选择心情图标
- [ ] 从衣柜选择穿搭衣物
- [ ] 输入地点
- [ ] 添加备注
- [ ] 保存回忆

### 3.2 多图上传
- [ ] 选择单张图片，检查显示
- [ ] 选择多张图片（3张），检查网格布局
- [ ] 选择最多9张图片
- [ ] 检查超过9张的提示
- [ ] 删除已选图片
- [ ] 检查上传进度显示

### 3.3 编辑回忆
- [ ] 长按回忆卡片
- [ ] 选择"编辑"
- [ ] 修改标题、照片、心情等
- [ ] 保存修改
- [ ] 验证更新显示

### 3.4 删除回忆
- [ ] 长按回忆卡片
- [ ] 选择"删除"
- [ ] 确认删除
- [ ] 验证从列表移除

### 3.5 筛选功能
- [ ] 选择"本周"筛选
- [ ] 选择"本月"筛选
- [ ] 选择"上月"筛选
- [ ] 选择"今年"筛选
- [ ] 选择"全部"显示所有

## Phase 4: 模块集成测试

### 4.1 Profile页面入口
- [ ] 进入"我的"页面
- [ ] 检查"个人功能"卡片显示
- [ ] 点击"造型规划器"，跳转正确
- [ ] 返回，点击"造型回忆"，跳转正确
- [ ] 返回，点击"我的衣柜"，跳转正确

### 4.2 作品保存到回忆
- [ ] 进入"作品集"查看AI生成作品
- [ ] 点击作品详情
- [ ] 点击"存回忆"按钮
- [ ] 检查跳转到造型回忆页面
- [ ] 验证图片已自动添加
- [ ] 完善其他信息并保存
- [ ] 验证回忆创建成功

### 4.3 数据共享测试
- [ ] 在衣柜添加衣物A
- [ ] 在规划器创建事件，选择衣物A
- [ ] 验证衣物正确显示
- [ ] 在回忆中选择衣物A
- [ ] 验证数据同步正常

## 测试环境要求

- 微信开发者工具 最新稳定版
- 真机测试（iOS/Android）
- 网络连接正常
- 已配置云开发环境

## 测试数据准备

1. **衣柜数据**：准备至少10件不同分类的衣物
2. **规划事件**：创建本周、本月、下月的事件各3个
3. **回忆记录**：创建不同时间段的回忆至少5条
4. **图片资源**：准备清晰的衣物照片和回忆照片

## 已知问题处理

### 1. 图片上传失败
- 检查云存储配置
- 检查网络连接
- 重试上传

### 2. AI建议加载慢
- 检查云函数部署
- 当前使用Mock数据，延迟1.5秒
- 生产环境需集成真实AI服务

### 3. 数据不同步
- 检查dataManager配置
- 清除缓存重新加载
- 检查存储权限

## 测试报告模板

### 测试日期：YYYY-MM-DD
### 测试人员：
### 测试环境：

| 功能模块 | 测试项 | 预期结果 | 实际结果 | 通过/失败 | 备注 |
|---------|--------|---------|---------|----------|------|
| 衣柜系统 | 添加衣物 | 成功添加并显示 | | | |
| 造型规划器 | 创建事件 | 成功创建 | | | |
| AI造型师 | 生成建议 | 显示建议内容 | | | |
| 造型回忆 | 创建回忆 | 成功保存 | | | |
| 模块集成 | 页面跳转 | 正常跳转 | | | |

## 性能测试

### 1. 加载性能
- [ ] 首页加载时间 < 2秒
- [ ] 衣柜列表加载 < 1秒
- [ ] 日历渲染 < 0.5秒
- [ ] 回忆列表加载 < 1秒

### 2. 交互响应
- [ ] 按钮点击响应 < 100ms
- [ ] 页面切换流畅无卡顿
- [ ] 图片上传进度实时显示
- [ ] 下拉刷新响应及时

### 3. 数据存储
- [ ] 本地数据持久化正常
- [ ] 数据读取准确无误
- [ ] 数据更新实时生效
- [ ] 数据删除完全清除

## 兼容性测试

### 微信版本
- [ ] 最新版本微信
- [ ] 前一个稳定版本

### 设备测试
- [ ] iPhone (iOS 14+)
- [ ] Android (Android 8+)
- [ ] 小屏幕设备 (< 5英寸)
- [ ] 大屏幕设备 (> 6英寸)

## 测试完成标准

✅ 所有核心功能测试通过
✅ 无阻塞性bug
✅ 性能指标达标
✅ 主流设备兼容性良好
✅ 用户体验流畅自然

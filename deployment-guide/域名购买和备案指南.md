# 域名购买和备案完整指南

## 📋 时间线总览（30天计划）

```
Day 1: 购买域名 + 服务器 (1小时)
Day 2-4: 域名实名认证 (自动审核)
Day 5: 提交ICP备案 (2小时填表)
Day 6-20: 等待备案审核 (7-15天)
Day 21: 备案通过！
Day 22: 部署服务 (3小时)
Day 23: 测试运行 (1天)
Day 24: 正式上线！
```

---

## 第一步：购买域名（5分钟）

### 推荐方案

| 域名后缀 | 价格 | 备案难度 | 推荐理由 | 推荐度 |
|---------|------|---------|---------|--------|
| **.top** | 6元/首年 | 简单 | 最便宜，工信部认可 | ⭐⭐⭐⭐⭐ |
| **.xyz** | 8元/首年 | 简单 | 便宜，国际化 | ⭐⭐⭐⭐ |
| **.cn** | 29元/年 | 简单 | 国内域名，正规 | ⭐⭐⭐⭐⭐ |
| **.com** | 55元/首年 | 简单 | 最主流，但较贵 | ⭐⭐⭐⭐ |

**我的推荐**：
- **预算有限**：选 **.top**（6元/年，完全够用）
- **追求正规**：选 **.cn** 或 **.com**

### 域名命名建议

**好名字的特点**：
- ✅ 短（6-12个字符）
- ✅ 好记
- ✅ 和业务相关
- ✅ 避免数字和符号

**示例**：
```
aizhao.top          (AI照)
aiphoto.top         (AI照片)
smartphoto.cn       (智能照片)
aifashion.top       (AI时尚)
clothai.top         (衣服AI)
```

### 购买流程（阿里云万网）

#### 1. 打开阿里云域名注册页
```
https://wanwang.aliyun.com/domain/
```

#### 2. 搜索域名
```
输入你想要的域名，比如：aizhao
系统会显示各种后缀的可用情况：
  aizhao.top    ✅ 可注册 - 6元
  aizhao.com    ❌ 已注册
  aizhao.cn     ✅ 可注册 - 29元
```

#### 3. 加入购物车
```
选择 aizhao.top
点击"加入清单"
```

#### 4. 结算
```
购买年限：1年（建议先买1年测试）
所有者类型：个人
继续结算
支付：微信/支付宝
```

---

## 第二步：域名实名认证（自动，2-4天）

### 为什么需要实名认证？
```
工信部要求：域名必须实名后才能备案
时间：通常1-3天自动通过
```

### 操作步骤

#### 1. 登录阿里云控制台
```
https://console.aliyun.com/
```

#### 2. 进入域名管理
```
控制台 → 域名 → 域名列表
找到你刚买的域名
```

#### 3. 提交实名认证
```
点击域名 → 实名认证
选择证件类型：
  - 个人：身份证
  - 企业：营业执照

上传证件照片（清晰照片即可）
提交审核
```

#### 4. 等待审核
```
时间：1-3天
状态查看：域名列表会显示"已实名"
```

**⚠️ 重要**：实名审核通过后，还需要等待信息同步到工信部（再1-2天），之后才能提交备案

---

## 第三步：购买京东云服务器（5分钟）

### 同时购买（建议）

**为什么现在就买服务器？**
- ✅ 备案需要服务器信息
- ✅ 可以提前部署测试（用IP访问）
- ✅ 京东云特价，越早买越划算

### 推荐配置

```
配置：2核4G 5M带宽 不限流量 60G硬盘
价格：112元/年
地区：华北-北京
系统：Ubuntu 20.04 LTS
```

### 购买流程

#### 1. 打开京东云
```
https://www.jdcloud.com/
```

#### 2. 选择云主机
```
产品 → 云主机 → 立即购买
```

#### 3. 配置选择
```
地域：华北-北京
实例规格：2核4G
镜像：Ubuntu 20.04 64位
存储：系统盘 60G
网络：
  - 带宽：5Mbps
  - 流量：不限流量
购买时长：1年
```

#### 4. 购买
```
立即购买
支付：112元
```

#### 5. 获取服务器信息
```
购买完成后，进入控制台
记录：
  - 公网IP：xxx.xxx.xxx.xxx
  - 实例ID：xxx
  - 备案授权码：（稍后申请）
```

---

## 第四步：申请备案授权码（5分钟）

### 什么是备案授权码？
```
证明你拥有这台服务器的凭证
备案时必须提供
```

### 获取方式

#### 京东云
```
1. 登录京东云控制台
2. 云主机 → 实例列表
3. 点击你的服务器
4. 找到"备案管理"或"备案授权码"
5. 点击"申请授权码"
6. 复制保存（格式：xxxxxx-xxxx-xxxx）
```

---

## 第五步：提交ICP备案（2小时填表）

### 备案方式选择

#### 方案A：阿里云备案（推荐，免费）

**优点**：
- ✅ 完全免费
- ✅ 界面友好
- ✅ 支持小程序扫码

**缺点**：
- ⏰ 时间较长（15-20天）
- 📋 需要自己填很多表

**适合**：不赶时间，想省钱

#### 方案B：某宝快速备案（付费）

**优点**：
- ⚡ 加急快速（7-10天）
- 🎯 专人服务
- 😌 省心省力

**缺点**：
- 💰 需要200-300元

**适合**：赶时间，想省事

### 详细流程（阿里云备案）

#### 1. 下载阿里云APP
```
App Store / 应用宝
搜索：阿里云
下载安装
```

#### 2. 开始备案
```
打开阿里云APP
我的 → ICP备案
首次备案
```

#### 3. 填写主体信息

**个人备案**：
```
主体类型：个人
证件类型：身份证
证件号码：xxx
姓名：xxx
联系方式：手机号
邮箱：常用邮箱
通讯地址：详细地址（精确到门牌号）
```

**企业备案**：
```
主体类型：企业
证件类型：营业执照
统一社会信用代码：xxx
企业名称：xxx
法人姓名：xxx
法人身份证：xxx
联系方式：xxx
```

#### 4. 填写网站信息

```
网站名称：
  个人：xxx的个人网站
  企业：xxx科技有限公司

网站域名：aizhao.top

服务器位置：京东云 华北-北京

备案授权码：粘贴之前复制的授权码

网站内容：
  [√] 其他
  网站简介：AI图像处理服务平台

前置审批：无

负责人信息：
  姓名：xxx
  手机：xxx
  邮箱：xxx
  证件：身份证号
```

#### 5. 上传资料

**需要准备**：
```
1. 身份证正反面照片（清晰）
2. 真实性核验单（APP内生成，手写签名）
3. 域名证书（阿里云下载）
4. 网站负责人照片（白底半身照）
```

**拍照要求**：
- 清晰
- 无反光
- 证件四角完整
- 文字清晰可见

#### 6. 提交审核

```
初审：阿里云审核（1-2天）
  ↓
管局审核：工信部审核（7-15天）
  ↓
备案成功！
```

### 审核期间会发生什么？

#### Day 1-2：阿里云初审
```
阿里云客服会打电话：
- 确认是否本人操作
- 核实网站内容
- 确认联系方式

如实回答即可
```

#### Day 3：提交管局
```
初审通过后自动提交到工信部
会收到短信：
  "您的备案申请已提交至xx通信管理局"
```

#### Day 4-18：管局审核
```
耐心等待
期间可能会：
- 接到管局电话核实（接听即可）
- 收到补充材料通知（按要求补充）
```

#### Day 19-20：审核通过
```
收到短信：
  "您的备案已通过审核，备案号：京ICP备xxxxxxx号"

同时会收到邮件通知
```

---

## 第六步：备案期间可以做什么？

### 不要浪费备案时间！

#### 1. 用IP地址测试（推荐）

```bash
# 虽然域名没备案，但可以用IP
http://你的服务器IP:3000/

小程序开发版可以配置：
"request合法域名": [
  "http://123.123.123.123"  // 开发阶段用IP
]
```

#### 2. 部署服务

```bash
# SSH登录服务器
ssh root@你的服务器IP

# 安装Docker
curl -fsSL https://get.docker.com | sh

# 部署n8n、MySQL等
docker-compose up -d

# 测试AI生成功能
```

#### 3. 开发多端前端

```
- 开发抖音小程序版
- 开发Web版
- 开发支付宝小程序版
- 完善功能
```

#### 4. 准备上线素材

```
- 小程序截图
- 产品介绍
- 使用教程
- 营销文案
```

---

## 第七步：备案通过后（1小时配置）

### 1. 域名解析

```bash
# 登录阿里云
控制台 → 域名 → 解析设置

# 添加记录
记录类型：A
主机记录：@
记录值：你的服务器IP
TTL：10分钟

# 添加www记录
记录类型：A
主机记录：www
记录值：你的服务器IP
TTL：10分钟
```

### 2. 配置SSL证书（免费）

```bash
# 方法A：Let's Encrypt（推荐）
ssh root@服务器IP

apt install certbot -y

certbot certonly --standalone -d aizhao.top -d www.aizhao.top

# 证书位置：
# /etc/letsencrypt/live/aizhao.top/fullchain.pem
# /etc/letsencrypt/live/aizhao.top/privkey.pem
```

```bash
# 方法B：Cloudflare（更简单）
1. 域名DNS改为Cloudflare
2. 自动获得免费SSL
3. 全球CDN加速
```

### 3. 配置小程序域名

```bash
# 登录微信公众平台
开发管理 → 开发设置 → 服务器域名

# 添加request合法域名
https://aizhao.top
https://www.aizhao.top

# 添加uploadFile合法域名
https://aizhao.top

# 添加downloadFile合法域名
https://aizhao.top

保存
```

### 4. 测试上线

```bash
1. 小程序开发版测试
2. 提交审核
3. 审核通过
4. 发布上线！
```

---

## 📊 完整成本清单

| 项目 | 费用 | 周期 |
|------|------|------|
| 域名 .top | 6元 | 首年 |
| 域名续费 | 29元 | 次年起 |
| 服务器 | 112元 | 1年 |
| SSL证书 | 0元 | 免费 |
| 备案费用 | 0元 | 免费（或200元加急）|
| **首年总计** | **118元**（或318元加急）|
| **次年总计** | **141元/年** |

对比微信云开发：
- 当前：1,200-3,600元/年（云存储）
- 迁移后：141元/年
- **年节省：1,059-3,459元** 💰

---

## ⏰ 完整时间表

```
Day 1 (今天):
  [✓] 购买域名 aizhao.top (5分钟)
  [✓] 购买京东云服务器 (5分钟)
  [✓] 提交域名实名认证 (5分钟)
  总计：15分钟

Day 2-4:
  [ ] 等待实名审核通过 (自动)

Day 5:
  [✓] 申请备案授权码 (5分钟)
  [✓] 提交ICP备案 (2小时)

Day 6-20:
  [ ] 等待备案审核 (7-15天)
  [✓] 同时部署服务到服务器 (3小时)
  [✓] 用IP测试功能 (持续)

Day 21:
  [✓] 备案通过！
  [✓] 配置域名解析 (10分钟)
  [✓] 配置SSL证书 (20分钟)
  [✓] 配置小程序域名 (10分钟)

Day 22:
  [✓] 小程序提交审核

Day 23-24:
  [✓] 审核通过
  [✓] 正式上线！
```

---

## 📝 检查清单

### 购买前
- [ ] 想好域名（3-5个备选）
- [ ] 确认预算（118-318元）
- [ ] 准备支付方式

### 购买域名
- [ ] 注册阿里云账号
- [ ] 购买域名 xxx.top
- [ ] 保存域名密码
- [ ] 提交实名认证

### 购买服务器
- [ ] 注册京东云账号
- [ ] 购买2核4G服务器
- [ ] 记录公网IP
- [ ] 记录root密码
- [ ] 申请备案授权码

### 准备备案
- [ ] 下载阿里云APP
- [ ] 准备身份证照片
- [ ] 准备手机（接听核实电话）
- [ ] 准备白底照片（网站负责人）

### 提交备案
- [ ] 填写主体信息
- [ ] 填写网站信息
- [ ] 上传证件照片
- [ ] 签署核验单
- [ ] 提交审核

### 备案期间
- [ ] SSH登录服务器
- [ ] 安装Docker
- [ ] 部署后端服务
- [ ] 用IP测试功能
- [ ] 开发其他端

### 备案通过后
- [ ] 配置域名解析
- [ ] 配置SSL证书
- [ ] 配置小程序域名
- [ ] 测试HTTPS访问
- [ ] 提交小程序审核

---

## 🆘 遇到问题怎么办？

### 问题1：域名实名审核不通过
```
原因：证件照片不清晰
解决：重新上传高清照片
```

### 问题2：备案审核被驳回
```
常见原因：
- 网站名称不规范（不能含有"公司""中国"等）
- 照片不清晰
- 联系方式错误

解决：按要求修改重新提交
```

### 问题3：收不到核实电话
```
解决：
- 主动联系阿里云客服
- 提供备案订单号
- 请求回拨
```

### 问题4：备案太慢，能加急吗？
```
解决：
- 找某宝"快速备案"服务（200元）
- 7-10天出备案号
- 全程代办
```

---

## 🎯 下一步行动

### 现在立即做（别拖延！）

1. **打开阿里云**
   ```
   https://wanwang.aliyun.com/domain/
   ```

2. **搜索域名**
   ```
   想3个名字：
   1. aizhao.top
   2. aiphoto.top
   3. smartphoto.top

   选一个可注册的
   ```

3. **购买**
   ```
   点击购买
   支付6元
   完成！
   ```

4. **购买服务器**
   ```
   https://www.jdcloud.com/
   2核4G 112元
   ```

5. **回来告诉我**
   ```
   "我买了 xxx.top"
   我帮你下一步！
   ```

---

**准备好了吗？现在就去买吧！** 🚀

买完告诉我域名，我帮你准备部署脚本！

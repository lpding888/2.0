# ğŸš€ å§¿åŠ¿è£‚å˜åŠŸèƒ½ - å¿«é€Ÿéƒ¨ç½²è„šæœ¬

## æ–¹æ³•1ï¼šäº‘å¼€å‘æ§åˆ¶å°ç›´æ¥å¯¼å…¥æ•°æ®

### æ­¥éª¤1ï¼šåˆ›å»ºé›†åˆ
1. æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…· â†’ äº‘å¼€å‘ â†’ æ•°æ®åº“
2. ç‚¹å‡»"æ·»åŠ é›†åˆ" â†’ è¾“å…¥ `pose_presets` â†’ ç¡®å®š

### æ­¥éª¤2ï¼šæ‰¹é‡å¯¼å…¥æ•°æ®
1. åœ¨ `pose_presets` é›†åˆä¸­ï¼Œç‚¹å‡»"å¯¼å…¥"
2. é€‰æ‹©ä¸‹é¢çš„JSONæ–‡ä»¶å†…å®¹ï¼Œä¿å­˜ä¸º `pose_presets.json`
3. ç‚¹å‡»"é€‰æ‹©æ–‡ä»¶" â†’ é€‰æ‹© `pose_presets.json` â†’ ç¡®å®šå¯¼å…¥

**pose_presets.json æ–‡ä»¶å†…å®¹ï¼š**

```json
[
  {
    "_id": "pose_001",
    "name": "æ ‡å‡†ç«™å§¿",
    "description": "ç›´ç«‹ç«™å§¿ï¼ŒåŒæ‰‹è‡ªç„¶ä¸‹å‚ï¼Œå±•ç¤ºæœè£…æ­£é¢",
    "prompt": "æ¨¡ç‰¹ä¿æŒç›´ç«‹ç«™å§¿ï¼ŒåŒæ‰‹è‡ªç„¶ä¸‹å‚æˆ–è½»æ”¾èº«ä¾§ï¼Œé¢å‘é•œå¤´ï¼Œå¾®ç¬‘è‡ªç„¶ï¼Œå±•ç¤ºæœè£…çš„æ­£é¢å®Œæ•´æ•ˆæœ",
    "category": "standing",
    "sort_order": 1,
    "is_active": true,
    "icon_emoji": "ğŸ‘¤"
  },
  {
    "_id": "pose_002",
    "name": "Så‹æ›²çº¿",
    "description": "é‡å¿ƒåç§»ï¼Œå±•ç°ä¼˜é›…æ›²çº¿",
    "prompt": "æ¨¡ç‰¹ä¸€è…¿å¾®æ›²ï¼Œé‡å¿ƒåå‘ä¸€ä¾§ï¼Œå½¢æˆä¼˜é›…çš„Så‹èº«ä½“æ›²çº¿ï¼Œä¸€åªæ‰‹è½»æ”¾è…°éƒ¨æˆ–å¤´å‘ï¼Œå±•ç°æœè£…çš„åŠ¨æ€ç¾æ„Ÿ",
    "category": "dynamic",
    "sort_order": 2,
    "is_active": true,
    "icon_emoji": "ğŸ’ƒ"
  },
  {
    "_id": "pose_003",
    "name": "ä¼˜é›…åå§¿",
    "description": "åå§¿å±•ç¤ºï¼Œè½»æ¾ä¼˜é›…",
    "prompt": "æ¨¡ç‰¹ä¼˜é›…åœ°ååœ¨ç®€çº¦çš„ç™½è‰²æ–¹å‡³ä¸Šï¼ŒåŒè…¿è‡ªç„¶äº¤å æˆ–å¹¶æ‹¢ï¼Œæ‰‹éƒ¨å§¿æ€ä¼˜é›…è‡ªç„¶ï¼Œå±•ç°æœè£…çš„ä¼‘é—²è´¨æ„Ÿ",
    "category": "sitting",
    "sort_order": 3,
    "is_active": true,
    "icon_emoji": "ğŸª‘"
  },
  {
    "_id": "pose_004",
    "name": "45åº¦ä¾§èº«",
    "description": "ä¾§èº«å±•ç¤ºæœè£…è½®å»“",
    "prompt": "æ¨¡ç‰¹èº«ä½“è½¬å‘45åº¦è§’ï¼Œè„¸éƒ¨çœ‹å‘é•œå¤´ï¼Œä¸€åªæ‰‹è½»æ­è…°éƒ¨ï¼Œå±•ç¤ºæœè£…çš„ä¾§é¢è½®å»“å’Œç«‹ä½“å‰ªè£",
    "category": "side",
    "sort_order": 4,
    "is_active": true,
    "icon_emoji": "â†—ï¸"
  },
  {
    "_id": "pose_005",
    "name": "å›çœ¸å±•ç¤º",
    "description": "èƒŒé¢å±•ç¤ºï¼Œä¼˜é›…å›çœ¸",
    "prompt": "æ¨¡ç‰¹èƒŒå¯¹é•œå¤´ï¼Œä¼˜é›…åœ°å›å¤´çœ‹å‘ç›¸æœºï¼Œå±•ç¤ºæœè£…çš„èƒŒé¢è®¾è®¡ç»†èŠ‚å’Œæ•´ä½“æ•ˆæœ",
    "category": "back",
    "sort_order": 5,
    "is_active": true,
    "icon_emoji": "ğŸ‘€"
  },
  {
    "_id": "pose_006",
    "name": "è¡Œèµ°åŠ¨æ€",
    "description": "è‡ªç„¶è¡Œèµ°çš„ç¬é—´",
    "prompt": "æ¨¡ç‰¹åšå‡ºè‡ªç„¶è¡Œèµ°çš„åŠ¨ä½œï¼Œä¸€è…¿å‘å‰è¿ˆæ­¥ï¼Œå±•ç°æœè£…çš„åŠ¨æ€æµåŠ¨æ„Ÿå’Œç©¿ç€æ•ˆæœ",
    "category": "walking",
    "sort_order": 6,
    "is_active": true,
    "icon_emoji": "ğŸš¶"
  },
  {
    "_id": "pose_007",
    "name": "åŒæ‰‹å‰è…°",
    "description": "è‡ªä¿¡åŠ›é‡æ„Ÿå§¿åŠ¿",
    "prompt": "æ¨¡ç‰¹åŒè„šåˆ†å¼€ä¸è‚©åŒå®½ï¼ŒåŒæ‰‹å‰è…°ï¼Œå±•ç°è‡ªä¿¡å’ŒåŠ›é‡æ„Ÿï¼Œé€‚åˆå±•ç¤ºèŒä¸šè£…å’Œå¤–å¥—",
    "category": "power",
    "sort_order": 7,
    "is_active": true,
    "icon_emoji": "ğŸ’ª"
  },
  {
    "_id": "pose_008",
    "name": "æ‰‹æ‰˜ä¸‹å·´",
    "description": "ä¼˜é›…æ€è€ƒå§¿åŠ¿",
    "prompt": "æ¨¡ç‰¹ä¸€åªæ‰‹è½»æ‰˜ä¸‹å·´ï¼Œå‘ˆç°æ€è€ƒæˆ–ä¼˜é›…çš„å§¿æ€ï¼Œå±•ç°æœè£…çš„ç²¾è‡´æ„Ÿå’Œç»†èŠ‚",
    "category": "elegant",
    "sort_order": 8,
    "is_active": true,
    "icon_emoji": "ğŸ¤”"
  }
]
```

---

## æ–¹æ³•2ï¼šä½¿ç”¨åˆå§‹åŒ–è„šæœ¬

å¦‚æœäº‘å¼€å‘æ§åˆ¶å°å¯¼å…¥å¤±è´¥ï¼Œå¯ä»¥ä½¿ç”¨åˆå§‹åŒ–è„šæœ¬ï¼š

### æ­¥éª¤1ï¼šåˆ›å»ºä¸´æ—¶äº‘å‡½æ•°
1. åœ¨ `cloudfunctions` ç›®å½•ä¸­åˆ›å»ºæ–°æ–‡ä»¶å¤¹ `init-poses`
2. åœ¨ `init-poses` æ–‡ä»¶å¤¹ä¸­åˆ›å»º `index.js`ï¼š

```javascript
const cloud = require('wx-server-sdk')
cloud.init({ env: cloud.DYNAMIC_CURRENT_ENV })
const db = cloud.database()

exports.main = async (event, context) => {
  const poses = [
    {
      _id: 'pose_001',
      name: 'æ ‡å‡†ç«™å§¿',
      description: 'ç›´ç«‹ç«™å§¿ï¼ŒåŒæ‰‹è‡ªç„¶ä¸‹å‚ï¼Œå±•ç¤ºæœè£…æ­£é¢',
      prompt: 'æ¨¡ç‰¹ä¿æŒç›´ç«‹ç«™å§¿ï¼ŒåŒæ‰‹è‡ªç„¶ä¸‹å‚æˆ–è½»æ”¾èº«ä¾§ï¼Œé¢å‘é•œå¤´ï¼Œå¾®ç¬‘è‡ªç„¶ï¼Œå±•ç¤ºæœè£…çš„æ­£é¢å®Œæ•´æ•ˆæœ',
      category: 'standing',
      sort_order: 1,
      is_active: true,
      icon_emoji: 'ğŸ‘¤',
      created_at: new Date(),
      updated_at: new Date()
    },
    {
      _id: 'pose_002',
      name: 'Så‹æ›²çº¿',
      description: 'é‡å¿ƒåç§»ï¼Œå±•ç°ä¼˜é›…æ›²çº¿',
      prompt: 'æ¨¡ç‰¹ä¸€è…¿å¾®æ›²ï¼Œé‡å¿ƒåå‘ä¸€ä¾§ï¼Œå½¢æˆä¼˜é›…çš„Så‹èº«ä½“æ›²çº¿ï¼Œä¸€åªæ‰‹è½»æ”¾è…°éƒ¨æˆ–å¤´å‘ï¼Œå±•ç°æœè£…çš„åŠ¨æ€ç¾æ„Ÿ',
      category: 'dynamic',
      sort_order: 2,
      is_active: true,
      icon_emoji: 'ğŸ’ƒ',
      created_at: new Date(),
      updated_at: new Date()
    },
    {
      _id: 'pose_003',
      name: 'ä¼˜é›…åå§¿',
      description: 'åå§¿å±•ç¤ºï¼Œè½»æ¾ä¼˜é›…',
      prompt: 'æ¨¡ç‰¹ä¼˜é›…åœ°ååœ¨ç®€çº¦çš„ç™½è‰²æ–¹å‡³ä¸Šï¼ŒåŒè…¿è‡ªç„¶äº¤å æˆ–å¹¶æ‹¢ï¼Œæ‰‹éƒ¨å§¿æ€ä¼˜é›…è‡ªç„¶ï¼Œå±•ç°æœè£…çš„ä¼‘é—²è´¨æ„Ÿ',
      category: 'sitting',
      sort_order: 3,
      is_active: true,
      icon_emoji: 'ğŸª‘',
      created_at: new Date(),
      updated_at: new Date()
    },
    {
      _id: 'pose_004',
      name: '45åº¦ä¾§èº«',
      description: 'ä¾§èº«å±•ç¤ºæœè£…è½®å»“',
      prompt: 'æ¨¡ç‰¹èº«ä½“è½¬å‘45åº¦è§’ï¼Œè„¸éƒ¨çœ‹å‘é•œå¤´ï¼Œä¸€åªæ‰‹è½»æ­è…°éƒ¨ï¼Œå±•ç¤ºæœè£…çš„ä¾§é¢è½®å»“å’Œç«‹ä½“å‰ªè£',
      category: 'side',
      sort_order: 4,
      is_active: true,
      icon_emoji: 'â†—ï¸',
      created_at: new Date(),
      updated_at: new Date()
    },
    {
      _id: 'pose_005',
      name: 'å›çœ¸å±•ç¤º',
      description: 'èƒŒé¢å±•ç¤ºï¼Œä¼˜é›…å›çœ¸',
      prompt: 'æ¨¡ç‰¹èƒŒå¯¹é•œå¤´ï¼Œä¼˜é›…åœ°å›å¤´çœ‹å‘ç›¸æœºï¼Œå±•ç¤ºæœè£…çš„èƒŒé¢è®¾è®¡ç»†èŠ‚å’Œæ•´ä½“æ•ˆæœ',
      category: 'back',
      sort_order: 5,
      is_active: true,
      icon_emoji: 'ğŸ‘€',
      created_at: new Date(),
      updated_at: new Date()
    },
    {
      _id: 'pose_006',
      name: 'è¡Œèµ°åŠ¨æ€',
      description: 'è‡ªç„¶è¡Œèµ°çš„ç¬é—´',
      prompt: 'æ¨¡ç‰¹åšå‡ºè‡ªç„¶è¡Œèµ°çš„åŠ¨ä½œï¼Œä¸€è…¿å‘å‰è¿ˆæ­¥ï¼Œå±•ç°æœè£…çš„åŠ¨æ€æµåŠ¨æ„Ÿå’Œç©¿ç€æ•ˆæœ',
      category: 'walking',
      sort_order: 6,
      is_active: true,
      icon_emoji: 'ğŸš¶',
      created_at: new Date(),
      updated_at: new Date()
    },
    {
      _id: 'pose_007',
      name: 'åŒæ‰‹å‰è…°',
      description: 'è‡ªä¿¡åŠ›é‡æ„Ÿå§¿åŠ¿',
      prompt: 'æ¨¡ç‰¹åŒè„šåˆ†å¼€ä¸è‚©åŒå®½ï¼ŒåŒæ‰‹å‰è…°ï¼Œå±•ç°è‡ªä¿¡å’ŒåŠ›é‡æ„Ÿï¼Œé€‚åˆå±•ç¤ºèŒä¸šè£…å’Œå¤–å¥—',
      category: 'power',
      sort_order: 7,
      is_active: true,
      icon_emoji: 'ğŸ’ª',
      created_at: new Date(),
      updated_at: new Date()
    },
    {
      _id: 'pose_008',
      name: 'æ‰‹æ‰˜ä¸‹å·´',
      description: 'ä¼˜é›…æ€è€ƒå§¿åŠ¿',
      prompt: 'æ¨¡ç‰¹ä¸€åªæ‰‹è½»æ‰˜ä¸‹å·´ï¼Œå‘ˆç°æ€è€ƒæˆ–ä¼˜é›…çš„å§¿æ€ï¼Œå±•ç°æœè£…çš„ç²¾è‡´æ„Ÿå’Œç»†èŠ‚',
      category: 'elegant',
      sort_order: 8,
      is_active: true,
      icon_emoji: 'ğŸ¤”',
      created_at: new Date(),
      updated_at: new Date()
    }
  ]

  try {
    // æ£€æŸ¥æ˜¯å¦å·²æœ‰æ•°æ®
    const count = await db.collection('pose_presets').count()
    if (count.total > 0) {
      return {
        success: false,
        message: `é›†åˆå·²æœ‰${count.total}æ¡æ•°æ®ï¼Œè·³è¿‡åˆå§‹åŒ–`
      }
    }

    // æ‰¹é‡æ·»åŠ 
    const tasks = poses.map(pose =>
      db.collection('pose_presets').add({ data: pose })
    )
    await Promise.all(tasks)

    return {
      success: true,
      message: `æˆåŠŸåˆå§‹åŒ–${poses.length}ä¸ªå§¿åŠ¿é¢„è®¾`
    }
  } catch (error) {
    return {
      success: false,
      message: error.message
    }
  }
}
```

3. åˆ›å»º `package.json`ï¼š

```json
{
  "name": "init-poses",
  "version": "1.0.0",
  "description": "åˆå§‹åŒ–å§¿åŠ¿é¢„è®¾",
  "main": "index.js",
  "dependencies": {
    "wx-server-sdk": "~2.6.3"
  }
}
```

### æ­¥éª¤2ï¼šéƒ¨ç½²å¹¶æ‰§è¡Œ
1. å³é”®ç‚¹å‡» `init-poses` â†’ ä¸Šä¼ å¹¶éƒ¨ç½²ï¼šäº‘ç«¯å®‰è£…ä¾èµ–
2. éƒ¨ç½²å®Œæˆåï¼Œå³é”®ç‚¹å‡» `init-poses` â†’ äº‘ç«¯æµ‹è¯•
3. æ‰§è¡ŒæˆåŠŸä¼šæ˜¾ç¤ºï¼š`æˆåŠŸåˆå§‹åŒ–8ä¸ªå§¿åŠ¿é¢„è®¾`
4. æ‰§è¡Œå®Œæˆåå¯ä»¥åˆ é™¤ `init-poses` äº‘å‡½æ•°

---

## éªŒè¯éƒ¨ç½²æˆåŠŸ

### æ£€æŸ¥1ï¼šäº‘å‡½æ•°åˆ—è¡¨
äº‘å¼€å‘ â†’ äº‘å‡½æ•°ï¼Œåº”æ˜¾ç¤ºï¼š
- âœ… photographyï¼ˆç»¿è‰²æ­£å¸¸ï¼‰
- âœ… photography-workerï¼ˆç»¿è‰²æ­£å¸¸ï¼‰
- âœ… fittingï¼ˆç»¿è‰²æ­£å¸¸ï¼‰
- âœ… fitting-workerï¼ˆç»¿è‰²æ­£å¸¸ï¼‰
- âœ… promptï¼ˆç»¿è‰²æ­£å¸¸ï¼‰

### æ£€æŸ¥2ï¼šæ•°æ®åº“
äº‘å¼€å‘ â†’ æ•°æ®åº“ â†’ pose_presetsï¼Œåº”æœ‰8æ¡è®°å½•

### æ£€æŸ¥3ï¼šå‰ç«¯æµ‹è¯•
1. æ‰“å¼€å°ç¨‹åº
2. è¿›å…¥"æˆ‘çš„ä½œå“"
3. ç‚¹å‡»ä»»æ„å·²å®Œæˆçš„ä½œå“
4. åº”çœ‹åˆ°ã€å§¿åŠ¿è£‚å˜ã€‘æŒ‰é’®
5. ç‚¹å‡»åèƒ½çœ‹åˆ°8ä¸ªå§¿åŠ¿é€‰é¡¹

éƒ¨ç½²å®Œæˆï¼ğŸ‰
